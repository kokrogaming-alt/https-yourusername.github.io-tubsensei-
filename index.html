<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tub Sensei | Packages & Deposit</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <img src="logo.png" alt="Tub Sensei Logo" style="width:150px; display:block; margin:auto;">
  <h1>Tub Sensei</h1>
  <nav>
    <a href="withdraw.html">Withdrawal</a>
    <a href="admin.html">Admin</a>
    <a href="signup.html">Logout</a>
  </nav>
</header>

<section class="plans">
  <h2>Available Packages</h2>

  <div class="card">
    <img src="plan2500.jpg" alt="Rs 2500 Plan">
    <h3>Rs 2500</h3>
    <button onclick="buyPlan(2500)">Deposit & Buy</button>
  </div>

  <div class="card">
    <img src="plan3500.jpg" alt="Rs 3500 Plan">
    <h3>Rs 3500</h3>
    <button onclick="buyPlan(3500)">Deposit & Buy</button>
  </div>

  <div class="card">
    <img src="plan5000.jpg" alt="Rs 5000 Plan">
    <h3>Rs 5000</h3>
    <button onclick="buyPlan(5000)">Deposit & Buy</button>
  </div>

  <div class="card">
    <img src="plan7500.jpg" alt="Rs 7500 Plan">
    <h3>Rs 7500</h3>
    <button onclick="buyPlan(7500)">Deposit & Buy</button>
  </div>

  <p>*Packages up to 1 lakh available on request.</p>
</section>

<script>
function buyPlan(amount){
  let user = JSON.parse(localStorage.getItem("currentUser") || "{}");
  if(!user.name) return alert("Please login first");

  // Assign plan
  user.plan = amount;
  localStorage.setItem("currentUser", JSON.stringify(user));

  // Update main users
  let users = JSON.parse(localStorage.getItem("users") || "[]");
  let idx = users.findIndex(u=>u.email==user.email);
  if(idx>=0){ users[idx] = user; localStorage.setItem("users", JSON.stringify(users)); }

  // Admin balance
  let balance = parseInt(localStorage.getItem("adminBalance") || 0);
  balance += amount;
  localStorage.setItem("adminBalance", balance);

  alert(`Deposit of Rs ${amount} successful!`);
}
</script>

</body>
</html>
<img src="images/plan7500.jpg" alt="Rs 7500 Plan">
